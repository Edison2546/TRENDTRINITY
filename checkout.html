
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏≠‡∏≤‡∏ó‡πå - TRENDTRINITY</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; margin: 2em; background: #fefefe; color: #333; }
    form { max-width: 400px; margin: auto; background: white; padding: 1.5em; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    input, textarea, button { width: 100%; padding: 0.8em; margin-top: 1em; border: 1px solid #ccc; border-radius: 5px; }
  </style>
</head>
<body>
  <h2 style="text-align:center;">‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏≠‡∏≤‡∏ó‡πå</h2>
  <form onsubmit="submitOrder(event)">
    <input type="text" id="name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠" required>
    <textarea id="address" placeholder="‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á" required></textarea>
    <button type="submit">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
  </form>
  <script>
    function submitOrder(e) {
      e.preventDefault();
      const name = document.getElementById("name").value;
      const address = document.getElementById("address").value;
      const cart = JSON.parse(localStorage.getItem("cart") || "[]");

      let message = `üõçÔ∏è ‡∏°‡∏µ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å TRENDTRINITY\nüë§ ‡∏ä‡∏∑‡πà‡∏≠: ${name}\nüìç ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: ${address}\nüì¶ ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:\n`;
      let total = 0;
      cart.forEach(i => {
        message += `- ${i.name} - ${i.price}‡∏ø\n`;
        total += i.price;
      });
      message += `üí∞ ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: ${total} ‡∏ö‡∏≤‡∏ó`;

      fetch("https://notify-api.line.me/api/notify", {
        method: "POST",
        headers: {
          "Content-Type": "application/x-www-form-urlencoded",
          "Authorization": "Bearer YOUR_TOKEN_HERE"
        },
        body: `message=${encodeURIComponent(message)}`
      }).then(() => {
        alert("‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!");
        localStorage.removeItem("cart");
        window.location.href = "index.html";
      }).catch(() => {
        alert("‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà");
      });
    }
  </script>
</body>
</html>
